const R="modulepreload",N=function(t){return"/"+t},g={},$=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(n.map(i=>{if(i=N(i),i in g)return;g[i]=!0;const l=i.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${u}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":R,l||(m.as="script"),m.crossOrigin="",m.href=i,c&&m.setAttribute("nonce",c),document.head.appendChild(m),l)return new Promise((f,p)=>{m.addEventListener("load",f),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})}))}function s(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return r.then(a=>{for(const c of a||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},T="(min-width: 320px)",M="(min-width: 600px)",U="(min-width: 1136px)";function d(t,e){const n=()=>window.performance?window.performance.now():Date.now()-window.hlx.rum.firstReadTime;try{if(window.hlx=window.hlx||{},d.enhance=()=>{},!window.hlx.rum){const o=new URLSearchParams(window.location.search).get("rum"),r=window.SAMPLE_PAGEVIEWS_AT_RATE==="high"&&10||window.SAMPLE_PAGEVIEWS_AT_RATE==="low"&&1e3||o==="on"&&1||100,s=Math.random().toString(36).slice(-4),a=o!=="off"&&Math.random()*r<1;if(window.hlx.rum={weight:r,id:s,isSelected:a,firstReadTime:window.performance?window.performance.timeOrigin:Date.now(),sampleRUM:d,queue:[],collector:(...c)=>window.hlx.rum.queue.push(c)},a){const c=i=>{const l={source:"undefined error"};try{l.target=i.toString(),l.source=i.stack.split(`
`).filter(u=>u.match(/https?:\/\//)).shift().replace(/at ([^ ]+) \((.+)\)/,"$1@$2").replace(/ at /,"@").trim()}catch{}return l};window.addEventListener("error",({error:i})=>{const l=c(i);d("error",l)}),window.addEventListener("unhandledrejection",({reason:i})=>{let l={source:"Unhandled Rejection",target:i||"Unknown"};i instanceof Error&&(l=c(i)),d("error",l)}),d.baseURL=d.baseURL||new URL(window.RUM_BASE||"/",new URL("https://rum.hlx.page")),d.collectBaseURL=d.collectBaseURL||d.baseURL,d.sendPing=(i,l,u={})=>{const m=JSON.stringify({weight:r,id:s,referer:window.location.href,checkpoint:i,t:l,...u}),f=window.RUM_PARAMS?`?${new URLSearchParams(window.RUM_PARAMS).toString()}`:"",{href:p,origin:L}=new URL(`.rum/${r}${f}`,d.collectBaseURL),P=L===window.location.origin?new Blob([m],{type:"application/json"}):m;navigator.sendBeacon(p,P),console.debug(`ping:${i}`,u)},d.sendPing("top",n()),d.enhance=()=>{if(document.querySelector('script[src*="rum-enhancer"]'))return;const i=document.createElement("script");i.src=new URL(".rum/@adobe/helix-rum-enhancer@^2/src/index.js",d.baseURL).href,document.head.appendChild(i)},window.hlx.RUM_MANUAL_ENHANCE||d.enhance()}}window.hlx.rum&&window.hlx.rum.isSelected&&t&&window.hlx.rum.collector(t,e,n()),document.dispatchEvent(new CustomEvent("rum",{detail:{checkpoint:t,data:e}}))}catch{}}function x(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.RUM_MANUAL_ENHANCE=!0,window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(window.location.search).get("lighthouse")==="on";const t=document.querySelector('script[src$="/dist/scripts/scripts.min.js"]');if(t)try{[window.hlx.codeBasePath]=new URL(t.src).pathname.split("/dist/scripts/scripts.min.js")}catch(e){console.log(e)}}function C(){x(),d()}function h(t){return typeof t=="string"?t.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,""):""}function S(t){return h(t).replace(/-([a-z])/g,e=>e[1].toUpperCase())}function b(t){const e={};return t.querySelectorAll(":scope > div").forEach(n=>{if(n.children){const o=[...n.children];if(o[1]){const r=o[1],s=h(o[0].textContent);let a="";if(r.querySelector("a")){const c=[...r.querySelectorAll("a")];c.length===1?a=c[0].href:a=c.map(i=>i.href)}else if(r.querySelector("img")){const c=[...r.querySelectorAll("img")];c.length===1?a=c[0].src:a=c.map(i=>i.src)}else if(r.querySelector("p")){const c=[...r.querySelectorAll("p")];c.length===1?a=c[0].textContent:a=c.map(i=>i.textContent)}else a=n.children[1].textContent;e[s]=a}}}),e}async function v(t){return new Promise((e,n)=>{if(document.querySelector(`head > link[href="${t}"]`))e();else{const o=document.createElement("link");o.rel="stylesheet",o.href=t,o.onload=e,o.onerror=n,document.head.append(o)}})}async function I(t,e){return new Promise((n,o)=>{if(document.querySelector(`head > script[src="${t}"]`))n();else{const r=document.createElement("script");if(r.src=t,e)for(const s in e)r.setAttribute(s,e[s]);r.onload=n,r.onerror=o,document.head.append(r)}})}function y(t,e=document){const n=t&&t.includes(":")?"property":"name";return[...e.head.querySelectorAll(`meta[${n}="${t}"]`)].map(r=>r.content).join(", ")||""}function O(t,e="",n=!1,o=[{media:U,width:"2000"},{width:"750"}]){const r=new URL(t,window.location.href),s=document.createElement("picture"),{pathname:a}=r,c=a.substring(a.lastIndexOf(".")+1);return o.forEach(i=>{const l=document.createElement("source");i.media&&l.setAttribute("media",i.media),l.setAttribute("type","image/webp"),l.setAttribute("srcset",`${a}?width=${i.width}&format=webply&optimize=medium`),s.appendChild(l)}),o.forEach((i,l)=>{if(l<o.length-1){const u=document.createElement("source");i.media&&u.setAttribute("media",i.media),u.setAttribute("srcset",`${a}?width=${i.width}&format=${c}&optimize=medium`),s.appendChild(u)}else{const u=document.createElement("img");u.setAttribute("loading",n?"eager":"lazy"),u.setAttribute("alt",e),s.appendChild(u),u.setAttribute("src",`${a}?width=${i.width}&format=${c}&optimize=medium`)}}),s}function j(){const t=(o,r)=>{r.split(",").forEach(s=>{o.classList.add(h(s.trim()))})},e=y("template");e&&t(document.body,e);const n=y("theme");n&&t(document.body,n)}function B(t){const e=["P","PRE","UL","OL","PICTURE","TABLE","H1","H2","H3","H4","H5","H6"],n=o=>{const r=document.createElement("p");r.append(...o.childNodes),o.append(r)};t.querySelectorAll(":scope > div > div").forEach(o=>{o.hasChildNodes()&&(!!o.firstElementChild&&e.some(s=>o.firstElementChild.tagName===s)?o.firstElementChild.tagName==="PICTURE"&&(o.children.length>1||o.textContent.trim())&&n(o):n(o))})}function z(t){t.querySelectorAll("a").forEach(e=>{if(e.title=e.title||e.textContent,e.href!==e.textContent){const n=e.parentElement,o=e.parentElement.parentElement;e.querySelector("img")||(n.childNodes.length===1&&(n.tagName==="P"||n.tagName==="DIV")&&(e.className="button",n.classList.add("button-container")),n.childNodes.length===1&&n.tagName==="STRONG"&&o.childNodes.length===1&&o.tagName==="P"&&(e.className="button primary",o.classList.add("button-container")),n.childNodes.length===1&&n.tagName==="EM"&&o.childNodes.length===1&&o.tagName==="P"&&(e.className="button secondary",o.classList.add("button-container")))}})}function q(t,e="",n=""){const o=Array.from(t.classList).find(s=>s.startsWith("icon-")).substring(5),r=document.createElement("img");r.dataset.iconName=o,r.src=`${window.hlx.codeBasePath}${e}/icons/outline/${o}.svg`,r.alt=n,r.loading="lazy",t.append(r)}function D(t,e=""){[...t.querySelectorAll("span.icon")].forEach(o=>{q(o,e)})}function H(t){t.querySelectorAll(":scope > div").forEach(e=>{const n=[];let o=!1;[...e.children].forEach(s=>{if(s.tagName==="DIV"||!o){const a=document.createElement("div");n.push(a),o=s.tagName!=="DIV",o&&a.classList.add("default-content-wrapper")}n[n.length-1].append(s)}),n.forEach(s=>e.append(s)),e.classList.add("section"),e.dataset.sectionStatus="initialized",e.style.display="none";const r=e.querySelector("div.section-metadata");if(r){const s=b(r);Object.keys(s).forEach(a=>{a==="style"?s.style.split(",").filter(i=>i).map(i=>h(i.trim())).forEach(i=>e.classList.add(i)):e.dataset[S(a)]=s[a]}),r.parentNode.remove()}})}async function k(t="default"){return window.placeholders=window.placeholders||{},window.placeholders[t]||(window.placeholders[t]=new Promise(e=>{fetch(`${t==="default"?"":t}/placeholders.json`).then(n=>n.ok?n.json():{}).then(n=>{const o={};n.data.filter(r=>r.Key).forEach(r=>{o[S(r.Key)]=r.Text}),window.placeholders[t]=o,e(window.placeholders[t])}).catch(()=>{window.placeholders[t]={},e(window.placeholders[t])})})),window.placeholders[`${t}`]}function A(t,e){const n=Array.isArray(e)?e:[[e]],o=document.createElement("div");return o.classList.add(t),n.forEach(r=>{const s=document.createElement("div");r.forEach(a=>{const c=document.createElement("div");(a.elems?a.elems:[a]).forEach(l=>{l&&(typeof l=="string"?c.innerHTML+=l:c.appendChild(l))}),s.appendChild(c)}),o.appendChild(s)}),o}async function w(t){const e=t.dataset.blockStatus;if(e!=="loading"&&e!=="loaded"){t.dataset.blockStatus="loading";const{blockName:n}=t.dataset;try{const o=v(`${window.hlx.codeBasePath}/dist/blocks/${n}/${n}.min.css`),r=new Promise(s=>{(async()=>{try{const a=await $(()=>import(`${window.hlx.codeBasePath}/dist/blocks/${n}/${n}.min.js`),[]);a.default&&await a.default(t)}catch(a){console.log(`failed to load module for ${n}`,a)}s()})()});await Promise.all([o,r])}catch(o){console.log(`failed to load block ${n}`,o)}t.dataset.blockStatus="loaded"}return t}function E(t){const e=t.classList[0];if(e){t.classList.add("block"),t.dataset.blockName=e,t.dataset.blockStatus="initialized",B(t),t.parentElement.classList.add(`${e}-wrapper`);const o=t.closest(".section");o&&o.classList.add(`${e}-container`)}}function W(t){t.querySelectorAll("div.section > div > div").forEach(E)}async function K(t){const e=A("header","");return t.append(e),E(e),w(e)}async function V(t){const e=A("footer","");return t.append(e),E(e),w(e)}async function F(t){const e=t.querySelector("img");await new Promise(n=>{e&&!e.complete?(e.setAttribute("loading","eager"),e.addEventListener("load",n),e.addEventListener("error",n)):n()})}async function _(t,e){const n=t.dataset.sectionStatus;if(!n||n==="initialized"){t.dataset.sectionStatus="loading";const o=[...t.querySelectorAll("div.block")];for(let r=0;r<o.length;r+=1)await w(o[r]);e&&await e(t),t.dataset.sectionStatus="loaded",t.style.display=null}}async function G(t){const e=[...t.querySelectorAll("div.section")];for(let n=0;n<e.length;n+=1)await _(e[n]),n===0&&d.enhance&&d.enhance()}C();export{U as B,$ as _,T as a,M as b,A as buildBlock,O as createOptimizedPicture,E as decorateBlock,W as decorateBlocks,z as decorateButtons,D as decorateIcons,H as decorateSections,j as decorateTemplateAndTheme,k as fetchPlaceholders,y as getMetadata,w as loadBlock,v as loadCSS,V as loadFooter,K as loadHeader,I as loadScript,_ as loadSection,G as loadSections,b as readBlockConfig,d as sampleRUM,x as setup,S as toCamelCase,h as toClassName,F as waitForFirstImage,B as wrapTextNodes};
